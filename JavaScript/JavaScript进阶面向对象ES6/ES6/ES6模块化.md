---
title: ES6模块化
date: 2022-09-28T10:23:07Z
lastmod: 2022-12-09T10:36:10Z
---

# ES6模块化

# node.js 中的模块化

node.js遵循了 CommonJs的模块化规范: 其中

* 导入其他模块使用`require`()方法
* 模块对外共享成员使用`module.exports`对象

模块化的好处,

大家都遵循同样的模块化规范写代码, 降低了沟通成本, 极大的方便了各个模块之间的相互调用

‍

# 什么是ES6模块化规范

ES6 模块化规范是浏览器端与服务器端通用的模块喜欢开发规范, 他的出现极大的降低了前端开发者的模块化学习成本, 不需要额外学习AMD, CMD, CommonJS等模块化规范

‍

ES6模块化规范中定义:

* 每个js文件都是一个独立的模块
* 导入其他模块使用`import`关键字
* 向外共享模块成员使用`export`关键字

# Node.js 使用ES6模块化

1. 安装`v14.15.`​1以上版本的node.js
2. 在`package.json`​的根节点中添加`"type":"module"`​节点
3. ==导入自定义模块的时候, 必须加.js后缀==

‍

# ES6模块化的基本语法

* ​==默认导入== 与 ==默认导出==
* ==按需导出 ​==与 ==按需导入==
* ==直接导入== 并 ==执行==模块中的代码

‍

# 默认导入导出

## 默认导出

语法: 

```js
let n1 = 1;
let n2 = 2;
function f1() {
    console.log(1);
}
export default {
    n1,
    f1,
};
```

‍

## 默认导入

语法: 

`import 接收名称 from "模块标识符"`

```js
import m1 from "./defaultExport.js";

console.log(m1); //{n1: 1, f1: ƒ}
```

## 默认导入导出的注意事项

* 默认导入时的接收名称可以任意名称, 只要是合法的成员名称即可
* ==默认导出只能导出一次==

‍

# 按需导入导出

## 按需导出

```js
export let s1 = 1;

export let s2 = 2;

export let f2 = function () {
    console.log(1);
};
```

## 按需导入

```js
import { s1, s2, f2 } from "./按需导出.js";

console.log(s1, s2, f2); 
//      1 2 ƒ() {
//     console.log(1);
// }
```

‍

## 按需导入导出的注意事项

* 每个模块可以使用多次按需导出
* 按需导入的成员名称必须和按需导出的名称保持一致
* 按需导入时, 可以使用 `as ​`关键字进行重命名
* 按需导入可以和默认导出一起使用

  * ```js
    import info, { s1, s2, f2 } from "./按需导出.js";
    ```

‍

# 直接导入并执行模块中的代码

如果只想单独执行某个模块中的代码, 并不需要得到模块中向外共享的成员, 此时, 可以使用直接导入并执行模块代码

直接使用`import`导入就可以执行模块的代码

```js
被导入的模块: 
for (let index = 0; index < 100; index++) {
    console.log(index);
}
--------------
import "./直接导入并执行 test.js";

```
